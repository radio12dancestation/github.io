<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Generatore Licenza EasyRadioPlaylist</title>
<style>
body { font-family: Arial, sans-serif; margin: 50px; }
input, button { font-size: 16px; padding: 5px; margin: 5px 0; }
#license { font-weight: bold; color: green; width: 300px; }
</style>
</head>
<body>

<h1>Generatore Licenza EasyRadioPlaylist FULL</h1>

<label for="pcid">Inserisci ID PC:</label><br>
<input type="text" id="pcid" placeholder="Esempio: 123456789012"><br>

<button onclick="generateLicense()">Genera Licenza</button>

<p>Licenza generata:</p>
<input type="text" id="license" readonly>
<button onclick="copyLicense()">Copia Licenza</button>

<script src="https://cdn.jsdelivr.net/npm/js-sha256@0.9.0/src/sha256.min.js"></script>
<script>
function generateLicense() {
    const pcId = document.getElementById("pcid").value.trim();
    if(pcId === "") {
        alert("Inserisci l'ID del PC!");
        return;
    }

    const SECRET = "ERP-FULL-2026";  // deve corrispondere al segreto dell'EXE
    const hash = sha256(pcId + SECRET);
    const license = hash.substring(0, 12).toUpperCase();

    document.getElementById("license").value = license;
}

function copyLicense() {
    const licenseField = document.getElementById("license");
    licenseField.select();
    licenseField.setSelectionRange(0, 99999); // per mobile
    document.execCommand("copy");
    alert("Licenza copiata negli appunti!");
}
</script>

</body>
</html>
